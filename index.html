<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TARDIS Robotics - FTC Team 5356 | Corning, NY</title>
  <meta name="description" content="TARDIS Robotics (FTC Team 5356) is a FIRST Tech Challenge team based in Corning, NY. Follow our robotics journey, competition results, and innovation." />
  <meta name="keywords" content="TARDIS, FTC, FIRST Tech Challenge, Team 5356, robotics, Corning NY, ECHO robot, STEM education" />
  <meta name="author" content="TARDIS Robotics Team 5356" />

  <!-- Open Graph / Social Media -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="TARDIS Robotics - FTC Team 5356" />
  <meta property="og:description" content="Follow TARDIS Robotics (FTC Team 5356) from Corning, NY as we compete in FIRST Tech Challenge competitions." />
  <meta property="og:url" content="https://tardis5356.com" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="TARDIS Robotics - FTC Team 5356" />
  <meta name="twitter:description" content="FIRST Tech Challenge Team 5356 from Corning, NY" />

  <!-- Structured Data (JSON-LD) for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "TARDIS Robotics",
    "alternateName": "FTC Team 5356",
    "url": "https://tardis5356.com",
    "logo": "https://tardis5356.com/assets/whitetardis.png",
    "description": "TARDIS Robotics (FTC Team 5356) is a FIRST Tech Challenge team based in Corning, NY. We build robots, compete in FTC competitions, and promote STEM education.",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Corning",
      "addressRegion": "NY",
      "addressCountry": "US"
    },
    "email": "ftctardis@gmail.com",
    "sameAs": [
      "https://www.instagram.com/tardis5356",
      "https://youtube.com/channel/UCcYj5ayb3-5I02UnHusmC3g"
    ],
    "memberOf": {
      "@type": "Organization",
      "name": "FIRST Tech Challenge",
      "url": "https://www.firstinspires.org/"
    }
  }
  </script>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/whitetardis.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="assets/whitetardis.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/whitetardis.png" />
  <script>
    // Create square favicon from non-square PNG
    (function() {
      const img = new Image();
      img.onload = function() {
        const canvas = document.createElement('canvas');
        // Use a larger size for better quality (browsers will scale down)
        const size = 256;
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        // Fill with transparent background
        ctx.clearRect(0, 0, size, size);
        // Calculate scaling to fit image within square while maintaining aspect ratio
        const scale = Math.min(size / img.width, size / img.height);
        const scaledWidth = img.width * scale;
        const scaledHeight = img.height * scale;
        const x = (size - scaledWidth) / 2;
        const y = (size - scaledHeight) / 2;
        ctx.drawImage(img, x, y, scaledWidth, scaledHeight);
        // Create favicon link
        const link = document.createElement('link');
        link.rel = 'icon';
        link.type = 'image/png';
        link.href = canvas.toDataURL('image/png');
        // Remove existing favicon links and add new one
        const existingLinks = document.querySelectorAll('link[rel="icon"]');
        existingLinks.forEach(l => l.remove());
        document.getElementsByTagName('head')[0].appendChild(link);
      };
      img.onerror = function() {
        // If image fails to load, keep original favicon
        console.warn('Failed to load favicon image for processing');
      };
      img.src = 'assets/whitetardis.png';
    })();
  </script>

  <!-- Preconnect to external domains for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preconnect" href="https://api.ftcscout.org" />
  <link rel="dns-prefetch" href="https://www.youtube.com" />
  
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Skip to content link for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <!-- Video Background Container -->
  <div class="video-bg" id="videoBg">
    <video id="bgVideo" autoplay muted playsinline loop>
      <source src="assets/echofinal.mp4" type="video/mp4" />
      Your browser does not support the video tag.
    </video>
    <!-- Mute/Unmute Button -->
    <button class="mute-btn" id="muteBtn" aria-label="Toggle mute">
      <svg class="sound-on" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 5L6 9H2V15H6L11 19V5Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M15.54 8.46C16.4774 9.39764 17.0039 10.6692 17.0039 11.995C17.0039 13.3208 16.4774 14.5924 15.54 15.53" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M19.07 4.93C20.9447 6.80528 21.9979 9.34836 21.9979 12C21.9979 14.6516 20.9447 17.1947 19.07 19.07" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <svg class="sound-off" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11 5L6 9H2V15H6L11 19V5Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <line x1="23" y1="9" x2="17" y2="15" stroke="white" stroke-width="2" stroke-linecap="round"/>
        <line x1="17" y1="9" x2="23" y2="15" stroke="white" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
    <!-- Scroll Indicator Overlay -->
    <div class="scroll-indicator" id="scrollIndicator">
      <p>Scroll Down</p>
      <div class="arrow"></div>
    </div>
  </div>

    <nav>
        <div class="team-name">TARDIS</div>
        <button class="hamburger" id="hamburger" aria-label="Toggle menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="divider"></div>
        <div class="nav-backdrop" id="navBackdrop"></div>
        <div class="nav-links" id="navLinks">
            <a href="index.html" class="active">Home</a>
            <a href="team.html">Our Team</a>
            <a href="resources.html">Resources</a>
            <a href="contact.html">Contact</a>
        </div>
    </nav>

    <div class="main-content" id="main-content">
        <img src="assets/whitetardis.png" alt="TARDIS Logo" class="logo" id="tardisLogo" loading="eager" fetchpriority="high" width="400" height="auto">
        
        <div class="hero-section">
            <h1>FTC Team 5356</h1>
            <p class="tagline">Building Tomorrow's Innovators Through Robotics</p>
        </div>

        <div class="info-sections">
            <div class="info-box">
                <a href="team.html" class="info-title">
                    Our Team <span class="arrow">→</span>
                </a>
                <p class="info-description">
                    A little bit about us! Team members, coaches/mentors, and more!
                </p>
            </div>
            
            <div class="info-box">
                <a href="resources.html" class="info-title">
                    Resources <span class="arrow">→</span>
                </a>
                <p class="info-description">
                    How we make a difference in our community through innovation, 
                    education, and outreach.
                </p>
            </div>
            
            <div class="info-box">
                <a href="contact.html" class="info-title">
                    Contact Us <span class="arrow">→</span>
                </a>
                <p class="info-description">
                    Get in touch with us for partnerships, questions, or collaboration opportunities!
                </p>
            </div>
        </div>

        <!-- Team Stats Widget -->
        <div class="stats-widget" id="statsWidget">
            <h2>Team 5356 - Quick Stats</h2>
            <div class="stats-loading">Loading team statistics...</div>
            <div class="stats-content" style="display: none;">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total NP</div>
                        <div class="stat-value" id="totalNP">--</div>
                        <div class="stat-rank">World Rank: <span id="totalRank">--</span></div>
                        <div class="stat-percentile">Percentile: <span id="totalPercentile">--</span></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Auto</div>
                        <div class="stat-value" id="autoNP">--</div>
                        <div class="stat-rank">World Rank: <span id="autoRank">--</span></div>
                        <div class="stat-percentile">Percentile: <span id="autoPercentile">--</span></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Teleop</div>
                        <div class="stat-value" id="teleopNP">--</div>
                        <div class="stat-rank">World Rank: <span id="teleopRank">--</span></div>
                        <div class="stat-percentile">Percentile: <span id="teleopPercentile">--</span></div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Endgame</div>
                        <div class="stat-value" id="endgameNP">--</div>
                        <div class="stat-rank">World Rank: <span id="endgameRank">--</span></div>
                        <div class="stat-percentile">Percentile: <span id="endgamePercentile">--</span></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="slideshow-container">
            <h2>Our Journey</h2>
            <div class="slideshow">
                <div class="slide active">
                    <img src="assets\insta\485121249_18305362132232511_8011057784273520181_n.jpeg" alt="Team Photo" loading="lazy" decoding="async">
                    <div class="caption">Team TARDIS at the 2024 competition</div>
                </div>
                <div class="slide">
                    <img src="assets\insta\484990029_18305362159232511_7832992066120643753_n.jpeg" alt="Robot" loading="lazy" decoding="async">
                    <div class="caption">Our robot on the field</div>
                </div>
                <div class="slide">
                    <img src="assets\insta\485666964_18305362180232511_6890157715357846339_n.jpg" alt="Champs!" loading="lazy" decoding="async">
                    <div class="caption">Echo performing auto</div>
                </div>
                <div class="slideshow-controls">
                    <button class="prev">❮</button>
                    <button class="next">❯</button>
                </div>
            </div>
        </div>
        
        <!-- Social Media Links -->
        <div class="social-links">
            <h2>Connect With Us</h2>
            <div class="social-icons">
                <a href="https://www.instagram.com/tardis5356?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" class="social-icon" target="_blank" rel="noopener noreferrer">
                    <img src="assets\icons8-instagram-50.png" alt="Instagram" loading="lazy">
                </a>
                <a href="https://youtube.com/channel/UCcYj5ayb3-5I02UnHusmC3g" class="social-icon" target="_blank" rel="noopener noreferrer">
                    <img src="assets\icons8-youtube-50.png" alt="YouTube" loading="lazy">
                </a>
                <a href="mailto:ftctardis@gmail.com" class="social-icon">
                    <img src="assets\icons8-email-50.png" alt="Email" loading="lazy">
                </a>
            </div>
        </div>
    </div>
    
    <footer>
        <p>FIRST Tech Challenge Team 5356 - TARDIS Robotics</p>
        <p style="font-size: 0.8rem; margin-top: 0.5rem;">Based in Corning, NY</p>
        <div class="footer-links">
            <a href="index.html">Home</a>
            <a href="team.html">Our Team</a>
            <a href="resources.html">Resources</a>
            <a href="contact.html">Contact</a>
            <a href="https://www.firstinspires.org/" target="_blank" rel="noopener noreferrer">FIRST Robotics</a>
        </div>
        <p style="font-size: 0.75rem; margin-top: 1rem; opacity: 0.7;">© 2024 TARDIS Robotics. All rights reserved.</p>
    </footer>
    
    <!-- Back to top button -->
    <button class="back-to-top" id="backToTop" aria-label="Back to top">
        ↑
    </button>
    
    <script src="slideshow.js"></script>
    <script>
      // Fetch Team Stats from FTCScout GraphQL API
      async function fetchTeamStats() {
        const statsLoading = document.querySelector('.stats-loading');
        const statsContent = document.querySelector('.stats-content');

        try {
          const graphqlUrl = 'https://api.ftcscout.org/graphql';
          const query = `{
            teamByNumber(number: 5356) {
              number
              name
              quickStats(season: 2024, region: All) {
                tot {
                  value
                  rank
                }
                auto {
                  value
                  rank
                }
                dc {
                  value
                  rank
                }
                eg {
                  value
                  rank
                }
              }
            }
          }`;

          const response = await fetch(graphqlUrl, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify({ query })
          });

          if (!response.ok) {
            throw new Error(`API error: ${response.status}`);
          }

          const result = await response.json();

          if (result.errors) {
            throw new Error(`GraphQL errors: ${JSON.stringify(result.errors)}`);
          }

          const teamData = result.data?.teamByNumber;
          const stats = teamData?.quickStats;

          if (!teamData || !stats) {
            throw new Error('No data available for team 5356');
          }

          // Estimate total teams (approximate, adjust based on actual count)
          const TOTAL_TEAMS = 16100;

          // Helper function to calculate percentile from rank
          function calculatePercentile(rank) {
            return ((TOTAL_TEAMS - rank) / TOTAL_TEAMS * 100).toFixed(2);
          }

          // Update stats with FTCScout data
          document.getElementById('totalNP').textContent = stats.tot?.value?.toFixed(2) || '--';
          document.getElementById('totalRank').textContent = stats.tot?.rank ? `${stats.tot.rank}${getOrdinalSuffix(stats.tot.rank)}` : '--';
          document.getElementById('totalPercentile').textContent = stats.tot?.rank ? `${calculatePercentile(stats.tot.rank)}%` : '--';

          document.getElementById('autoNP').textContent = stats.auto?.value?.toFixed(2) || '--';
          document.getElementById('autoRank').textContent = stats.auto?.rank ? `${stats.auto.rank}${getOrdinalSuffix(stats.auto.rank)}` : '--';
          document.getElementById('autoPercentile').textContent = stats.auto?.rank ? `${calculatePercentile(stats.auto.rank)}%` : '--';

          document.getElementById('teleopNP').textContent = stats.dc?.value?.toFixed(2) || '--';
          document.getElementById('teleopRank').textContent = stats.dc?.rank ? `${stats.dc.rank}${getOrdinalSuffix(stats.dc.rank)}` : '--';
          document.getElementById('teleopPercentile').textContent = stats.dc?.rank ? `${calculatePercentile(stats.dc.rank)}%` : '--';

          document.getElementById('endgameNP').textContent = stats.eg?.value?.toFixed(2) || '--';
          document.getElementById('endgameRank').textContent = stats.eg?.rank ? `${stats.eg.rank}${getOrdinalSuffix(stats.eg.rank)}` : '--';
          document.getElementById('endgamePercentile').textContent = stats.eg?.rank ? `${calculatePercentile(stats.eg.rank)}%` : '--';

          statsLoading.style.display = 'none';
          statsContent.style.display = 'block';
        } catch (error) {
          console.error('Error fetching team stats:', error);
          statsLoading.textContent = 'Unable to load live stats. Please try again later.';
          statsLoading.style.color = '#ff9494';
        }
      }

      // Helper function to get ordinal suffix (st, nd, rd, th)
      function getOrdinalSuffix(num) {
        const j = num % 10;
        const k = num % 100;
        if (j === 1 && k !== 11) return 'st';
        if (j === 2 && k !== 12) return 'nd';
        if (j === 3 && k !== 13) return 'rd';
        return 'th';
      }

      // Load stats when page loads
      document.addEventListener('DOMContentLoaded', fetchTeamStats);


      // Mobile hamburger menu
      const hamburger = document.getElementById('hamburger');
      const navLinks = document.getElementById('navLinks');
      const navBackdrop = document.getElementById('navBackdrop');

      hamburger.addEventListener('click', function() {
        hamburger.classList.toggle('active');
        navLinks.classList.toggle('active');
        if (navBackdrop) {
          navBackdrop.classList.toggle('active');
        }
      });

      // Close menu when clicking backdrop
      if (navBackdrop) {
        navBackdrop.addEventListener('click', function() {
          hamburger.classList.remove('active');
          navLinks.classList.remove('active');
          navBackdrop.classList.remove('active');
        });
      }

      // Back to top button functionality
      const backToTopBtn = document.getElementById('backToTop');
      if (backToTopBtn) {
        window.addEventListener('scroll', function() {
          if (window.scrollY > 300) {
            backToTopBtn.classList.add('visible');
          } else {
            backToTopBtn.classList.remove('visible');
          }
        });

        backToTopBtn.addEventListener('click', function() {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
      }

      // Add fade-in animations to elements on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('fade-in-up');
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      // Observe elements for animation
      document.addEventListener('DOMContentLoaded', function() {
        const animateElements = document.querySelectorAll('.info-box, .stats-widget, .slideshow-container, .social-links');
        animateElements.forEach(el => {
          observer.observe(el);
        });
      });

      // Video control and audio fade
      const video = document.getElementById("bgVideo");
      const muteBtn = document.getElementById("muteBtn");
      const videoBg = document.getElementById("videoBg");
      let videoRemoved = false;
      let isMuted = true; // Start muted for autoplay

      // Set initial volume
      video.volume = 0.7;

      // Show button as muted initially
      muteBtn.classList.add("muted");

      // Mute/Unmute button toggle
      muteBtn.addEventListener("click", function() {
        isMuted = !isMuted;
        video.muted = isMuted;
        muteBtn.classList.toggle("muted", isMuted);
      });

      // Listen for scroll events
      window.addEventListener("scroll", function () {
        const scrollY = window.scrollY;

        // Fade out audio based on scroll (0-300px range)
        if (scrollY < 300 && !videoRemoved) {
          const fadeAmount = 1 - (scrollY / 300);
          video.volume = Math.max(0, Math.min(0.7, fadeAmount * 0.7));
        }

        // Remove video background after scrolling past threshold
        if (!videoRemoved && scrollY > 50) {
          videoBg.style.transition = "opacity 0.5s ease";
          videoBg.style.opacity = 0;
          setTimeout(() => {
            videoBg.parentNode.removeChild(videoBg);
          }, 500);
          videoRemoved = true;
        }
      });
    </script>

</body>
</html> 